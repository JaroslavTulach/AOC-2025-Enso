from Standard.Base import all
from Standard.Table import all
from Standard.Database import all
import Standard.Visualization
from Standard.Base.Meta import Enso_Project

main =
    file1 = Enso_Project.enso_project.data/"input.txt"
    data = Data.read file1 ..Delimited
    any1 = data.parse ['Column 1'] type=..Integer
    any2 = data.rename_columns [(Pair.Value 'Column 1' 'New Name')]
    any3 = any2.map (\t -> t.take (..First 1)) expected_value_type=..Char
    any4 = any3.map (\d -> if d == 'R' then 1 else -1) expected_value_type=..Integer
    any5 = any4.rename 'Directions'
    any6 = any1.rename 'Step'
    table1 = any5.to_table
    any7 = table1.set any6
    any8 = any7.set (expr '[Directions]*[Step]') "Shift"
    column1 = any8.at 'Shift'
    vector1 = column1.to_vector
    vector2 = vector1.running_fold 50 (+)
    vector3 = vector2.filter (\n -> n%100 == 0)
    result = vector3.compute ..Count
    Runtime.assert (result == 1011) "Expecting better result, but was: "+result.to_text


#### METADATA ####
[[{"index":{"value":189},"size":{"value":42}},"f4343471-d286-4497-83f2-efd1eb500616"],[{"index":{"value":243},"size":{"value":27}},"3f0c84d6-0bed-4252-8856-933b0ca8e83f"],[{"index":{"value":282},"size":{"value":38}},"030dbbf4-36f6-41d5-b2e7-5e5ba7873f17"],[{"index":{"value":332},"size":{"value":19}},"b42e0674-34dc-47ae-8f2e-95254058c6c7"],[{"index":{"value":332},"size":{"value":56}},"8c32fe53-7ac1-4bea-8a36-7869932dcf86"],[{"index":{"value":400},"size":{"value":8}},"a26daa50-db68-4bb7-90a9-c7b2d233ffa1"],[{"index":{"value":400},"size":{"value":35}},"81945ef1-2d90-4d35-8f44-8a7f3d018eb0"],[{"index":{"value":400},"size":{"value":62}},"a8acc79d-f231-4a93-87d1-bef43e5f815b"],[{"index":{"value":474},"size":{"value":8}},"bebbe843-a35d-48da-bedd-985eb1ba6984"],[{"index":{"value":474},"size":{"value":43}},"6652f5d9-8d0a-44a9-a47d-c6f8a4099d0f"],[{"index":{"value":474},"size":{"value":73}},"a1255b03-e5f9-42b4-a4b4-8e7fe1accd94"],[{"index":{"value":559},"size":{"value":11}},"8f83807b-05d0-4544-98d3-62761195cf27"],[{"index":{"value":559},"size":{"value":24}},"0bba3912-f13c-4491-8ec3-9ff190ee773b"],[{"index":{"value":595},"size":{"value":11}},"9f25ec0e-5b7e-423b-98ed-903b1aa83e75"],[{"index":{"value":595},"size":{"value":18}},"03cbc228-0dc8-4ab9-b800-3d1d1b7ba3c4"],[{"index":{"value":627},"size":{"value":13}},"6393622d-fb36-4d5d-93c0-767ae06f8216"],[{"index":{"value":652},"size":{"value":10}},"6a57aa95-e53f-42d2-ba91-2c3709904474"],[{"index":{"value":652},"size":{"value":15}},"ae77e0ea-0631-461b-9a27-d38277392398"],[{"index":{"value":679},"size":{"value":8}},"24701b49-1db5-4e70-9c6c-50480bf5294b"],[{"index":{"value":679},"size":{"value":37}},"2cdfbe2d-5cfe-4488-9bb9-0db029fe7f64"],[{"index":{"value":679},"size":{"value":45}},"5953a0c6-ad46-4dda-8b67-cccc9bd66872"],[{"index":{"value":739},"size":{"value":7}},"5822c802-628c-4f58-812e-385933e0df49"],[{"index":{"value":739},"size":{"value":15}},"bab91fa7-5b73-437f-b9ed-fb26f4017baf"],[{"index":{"value":769},"size":{"value":17}},"fe4cfc61-2b44-48e9-a871-428d19d8f440"],[{"index":{"value":801},"size":{"value":20}},"c70a09d5-58cd-4b11-80d1-a729fc038716"],[{"index":{"value":801},"size":{"value":27}},"91f79007-3bac-42c5-bf4d-0b7c49dd2dc5"],[{"index":{"value":843},"size":{"value":14}},"78acecc6-57ce-442b-9dc8-db34ef301736"],[{"index":{"value":843},"size":{"value":33}},"7b552931-180e-43c9-a2d6-63f74d8f7854"],[{"index":{"value":890},"size":{"value":23}},"36d268cf-7a20-4ec9-a581-2a62fd53493c"],[{"index":{"value":919},"size":{"value":81}},"c916a07a-979b-4767-aff8-adf0fcbc83a7"]]
{"ide":{"node":{"f4343471-d286-4497-83f2-efd1eb500616":{"position":{"vector":[-16,118]}},"3f0c84d6-0bed-4252-8856-933b0ca8e83f":{"position":{"vector":[-16,69]},"visualization":{"show":true}},"030dbbf4-36f6-41d5-b2e7-5e5ba7873f17":{"position":{"vector":[280,-204]}},"8c32fe53-7ac1-4bea-8a36-7869932dcf86":{"position":{"vector":[-333,-177]}},"b42e0674-34dc-47ae-8f2e-95254058c6c7":{"position":{"vector":[-244,-163]}},"a8acc79d-f231-4a93-87d1-bef43e5f815b":{"position":{"vector":[-333,-249]}},"81945ef1-2d90-4d35-8f44-8a7f3d018eb0":{"position":{"vector":[-246,-270]}},"a26daa50-db68-4bb7-90a9-c7b2d233ffa1":{"position":{"vector":[-246,-270]}},"a1255b03-e5f9-42b4-a4b4-8e7fe1accd94":{"position":{"vector":[-333,-342]}},"6652f5d9-8d0a-44a9-a47d-c6f8a4099d0f":{"position":{"vector":[-255,-357]}},"bebbe843-a35d-48da-bedd-985eb1ba6984":{"position":{"vector":[-255,-357]}},"0bba3912-f13c-4491-8ec3-9ff190ee773b":{"position":{"vector":[-333,-423]}},"8f83807b-05d0-4544-98d3-62761195cf27":{"position":{"vector":[-333,-423]}},"03cbc228-0dc8-4ab9-b800-3d1d1b7ba3c4":{"position":{"vector":[299,-423]}},"9f25ec0e-5b7e-423b-98ed-903b1aa83e75":{"position":{"vector":[302,-469]}},"6393622d-fb36-4d5d-93c0-767ae06f8216":{"position":{"vector":[-91,-591]}},"ae77e0ea-0631-461b-9a27-d38277392398":{"position":{"vector":[-26,-681]},"visualization":{"show":false,"width":584.625,"height":253}},"6a57aa95-e53f-42d2-ba91-2c3709904474":{"position":{"vector":[-26,-681]}},"5953a0c6-ad46-4dda-8b67-cccc9bd66872":{"position":{"vector":[24,-816]},"visualization":{"show":true,"width":615.1875,"height":246}},"2cdfbe2d-5cfe-4488-9bb9-0db029fe7f64":{"position":{"vector":[24,-816]},"visualization":{"show":true}},"24701b49-1db5-4e70-9c6c-50480bf5294b":{"position":{"vector":[24,-816]}},"bab91fa7-5b73-437f-b9ed-fb26f4017baf":{"position":{"vector":[449,-1146]}},"5822c802-628c-4f58-812e-385933e0df49":{"position":{"vector":[449,-1146]}},"fe4cfc61-2b44-48e9-a871-428d19d8f440":{"position":{"vector":[492,-1271]}},"91f79007-3bac-42c5-bf4d-0b7c49dd2dc5":{"position":{"vector":[533,-1469]},"visualization":{"show":false,"width":511.546875,"height":323}},"c70a09d5-58cd-4b11-80d1-a729fc038716":{"position":{"vector":[533,-1469]}},"7b552931-180e-43c9-a2d6-63f74d8f7854":{"position":{"vector":[591,-1608]},"visualization":{"show":false,"width":430.140625,"height":362}},"78acecc6-57ce-442b-9dc8-db34ef301736":{"position":{"vector":[591,-1608]}},"36d268cf-7a20-4ec9-a581-2a62fd53493c":{"position":{"vector":[677,-1711]},"visualization":{"show":true}},"c916a07a-979b-4767-aff8-adf0fcbc83a7":{"position":{"vector":[-16,-414]}}},"widget":{},"import":{},"snapshot":"eJx9U01vm0AQvftXjCxV4KbZmjhuokr0UDuVekgUxVUuroXGZoi3hQUtQ+L013eWBZJYajnBvo95szNktixgxWhStKn6ijWBLqrSMmCej7I36A/c5v+Bl8i4PTLoXgfOva4bzPUfZF2aI70rrq6JsTe4MnWZ3NryF+14NCpQG4hHIE+mc4ogfkNQ5D6q7iOVLB/H2lQNKz7wuJW5Q1G5nMoSpp2PUkvKdaGZ0paG5tmZO7aq0EpD62BR5k1hIAo2wM8VxUp9N0wPZHvFWa+wZLCgZNcKaliHt6ituse8IXixgeCGnuBGmMFk03vMxMNZqQIrCH8ynH4BiY+/CUKlvmlbM0STCdChkh4pTR6da9IFWuxxSHPunWadU+qcdAYpxDEEdwHwniQFUC7NnUb/cjxqce5Nz7sWIVhqKyoZZB30nE+eEw2cFVPlUXbbE3l8rrhM2oNeeCGAZ6iauLXqoUuvuWiBUKJaCNYvtTfv167IJpjAeLXXWTdsP4Cu3qVCliwO9WEeRVxah3Y8F8gfvsLdUDumso0x2jwkWZmnMJ9CeDJ5xZwNzDMlW8Vk5dqNu3bzLppO3b1PPd9S3eQ80GdqVxaypSRruCgbI4vuWHfypgtSWNckf0LYq2KIZtLnVTsviQNbYlfM4x9g2zA8Yf0Zxif+qL1oOvBfF8JA8A=="}}